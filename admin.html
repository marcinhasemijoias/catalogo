<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel | Royal Joias</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
<div id="root"></div>

<script type="text/babel">

const { useState, useEffect } = React;
const { Trash2 } = lucide;

function Admin(){

const [products,setProducts]=useState([]);
const [orders,setOrders]=useState([]);
const [storeConfig,setStoreConfig]=useState({name:'Royal Joias',whatsapp:'',pixDiscount:0.1});

useEffect(()=>{
 setProducts(JSON.parse(localStorage.getItem('luxury_products')||'[]'));
 setOrders(JSON.parse(localStorage.getItem('luxury_orders')||'[]'));
 setStoreConfig(JSON.parse(localStorage.getItem('luxury_config')||storeConfig));
},[]);

function save(){
 localStorage.setItem('luxury_config',JSON.stringify(storeConfig));
 alert('Salvo');
}

function addProduct(p){
 const list=[...products,{...p,id:Date.now(),price:+p.price}];
 setProducts(list);
 localStorage.setItem('luxury_products',JSON.stringify(list));
}

return (
<div className="max-w-4xl mx-auto p-8 space-y-10 font-sans">
<h1 className="font-serif text-2xl">Painel Administrativo</h1>

<div className="bg-white p-6 border">
<input className="border-b w-full" value={storeConfig.name} onChange={e=>setStoreConfig({...storeConfig,name:e.target.value})}/>
<button onClick={save} className="mt-4 bg-black text-white px-4 py-2">Salvar</button>
</div>

<div className="bg-white p-6 border">
<h2 className="font-serif mb-4">Produtos</h2>
{products.map(p=>(
<div key={p.id} className="flex justify-between border-b py-2">
<span>{p.name}</span>
<button onClick={()=>setProducts(products.filter(x=>x.id!==p.id))}><Trash2 size={14}/></button>
</div>
))}
</div>

<div className="bg-white p-6 border">
<h2 className="font-serif mb-4">Pedidos</h2>
{orders.map(o=>(
<div key={o.id} className="border-b py-2">
{o.customer.name} â€” {o.total.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})}
</div>
))}
</div>

</div>
);
}

ReactDOM.createRoot(document.getElementById('root')).render(<Admin/>);
</script>
</body>
</html>

